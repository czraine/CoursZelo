{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ModuleListComponent = class ModuleListComponent {\n  constructor(cdRef, serviceModule) {\n    this.cdRef = cdRef;\n    this.serviceModule = serviceModule;\n    this.list = [];\n    this.modalDisplay = false;\n    this.currentModule = null;\n    this.modalMode = 'view';\n  }\n  ngOnInit() {\n    this.getAllModules();\n  }\n  openModal(module, mode = 'view') {\n    this.currentModule = module;\n    this.modalMode = mode;\n    this.modalDisplay = true;\n  }\n  closeModal() {\n    this.modalDisplay = false;\n  }\n  saveChanges() {\n    if (!this.currentModule || !this.currentModule.id) {\n      console.log(\"No module selected or module ID is missing\");\n      return;\n    }\n    this.updateModule(this.currentModule.id, this.currentModule);\n  }\n  confirmDelete(moduleId) {\n    const isConfirmed = confirm('Are you sure you want to delete this module?');\n    if (isConfirmed) {\n      this.deleteModule(moduleId);\n    }\n  }\n  deleteModule(moduleId) {\n    this.serviceModule.deleteModule(moduleId).subscribe({\n      next: () => {\n        alert(moduleId);\n        console.log(\"Module deleted successfully\");\n        this.getAllModules();\n      },\n      error: error => {\n        console.error(\"Error deleting module\", error);\n      }\n    });\n  }\n  getAllModules() {\n    this.serviceModule.getModules().subscribe({\n      next: modules => {\n        this.list = modules;\n        console.log('List of Modules updated:', this.list);\n        this.cdRef.detectChanges();\n      },\n      error: error => {\n        console.error('Error fetching modules', error);\n      }\n    });\n  }\n  updateModule(moduleId, newData) {\n    this.serviceModule.updateModule(moduleId, newData).subscribe({\n      next: response => {\n        console.log('Module Updated successfully', response);\n        this.getAllModules();\n      },\n      error: error => {\n        console.error('There was an error!', error);\n      }\n    });\n  }\n  getModuleById(moduleId) {\n    this.serviceModule.getModuleById(moduleId).subscribe({\n      next: module => {\n        console.log('Module Details:', module);\n        this.currentModule = module;\n      },\n      error: error => {\n        console.error('There was an error!', error);\n      }\n    });\n  }\n  selectModuleForEdit(moduleId) {\n    this.getModuleById(moduleId);\n    this.openModal(this.currentModule, 'edit');\n  }\n};\nModuleListComponent = __decorate([Component({\n  selector: 'app-module-list',\n  templateUrl: './module-list.component.html',\n  styleUrls: ['./module-list.component.css']\n})], ModuleListComponent);\nexport { ModuleListComponent };","map":{"version":3,"mappings":"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","names":["Component","ModuleListComponent","constructor","cdRef","serviceModule","list","modalDisplay","currentModule","modalMode","ngOnInit","getAllModules","openModal","module","mode","closeModal","saveChanges","id","console","log","updateModule","confirmDelete","moduleId","isConfirmed","confirm","deleteModule","subscribe","next","alert","error","getModules","modules","detectChanges","newData","response","getModuleById","selectModuleForEdit","__decorate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\Rahma\\Desktop\\Testing\\CoursZeloFront\\CoursZelo\\src\\app\\front\\module-list\\module-list.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { ServiceModuleService } from 'src/app/services/service-module.service';\r\nimport { ChangeDetectorRef } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-module-list',\r\n  templateUrl: './module-list.component.html',\r\n  styleUrls: ['./module-list.component.css']\r\n})\r\nexport class ModuleListComponent {\r\n  list: any[] = [];\r\n  modalDisplay = false;\r\n  currentModule: any = null;\r\n  modalMode: 'edit' | 'view' = 'view';\r\n\r\n  constructor(private cdRef: ChangeDetectorRef, private serviceModule: ServiceModuleService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.getAllModules();\r\n  }\r\n\r\n  openModal(module: any, mode: 'edit' | 'view' = 'view'): void {\r\n    this.currentModule = module;\r\n    this.modalMode = mode;\r\n    this.modalDisplay = true;\r\n  }\r\n\r\n  closeModal(): void {\r\n    this.modalDisplay = false;\r\n  }\r\n\r\n  saveChanges(): void {\r\n    if (!this.currentModule || !this.currentModule.id) {\r\n      console.log(\"No module selected or module ID is missing\");\r\n      return;\r\n    }\r\n    this.updateModule(this.currentModule.id, this.currentModule);\r\n  }\r\n\r\n  confirmDelete(moduleId: string): void {\r\n    const isConfirmed = confirm('Are you sure you want to delete this module?');\r\n    if (isConfirmed) {\r\n      this.deleteModule(moduleId);\r\n    }\r\n  }\r\n\r\n  deleteModule(moduleId: string): void {\r\n    this.serviceModule.deleteModule(moduleId).subscribe({\r\n      next: () => { \r\n        alert(moduleId)\r\n        console.log(\"Module deleted successfully\");\r\n        this.getAllModules();\r\n      },\r\n      error: (error) => {\r\n        console.error(\"Error deleting module\", error);\r\n      }\r\n    });\r\n  }\r\n\r\n  getAllModules(): void {\r\n    this.serviceModule.getModules().subscribe({\r\n      next: (modules) => {\r\n        this.list = modules;\r\n        console.log('List of Modules updated:', this.list);\r\n        this.cdRef.detectChanges();\r\n      },\r\n      error: (error) => {\r\n        console.error('Error fetching modules', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  updateModule(moduleId: string, newData: any): void {\r\n    this.serviceModule.updateModule(moduleId, newData).subscribe({\r\n      next: (response) => {\r\n        console.log('Module Updated successfully', response);\r\n        this.getAllModules();\r\n      },\r\n      error: (error) => {\r\n        console.error('There was an error!', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  getModuleById(moduleId: string): void {\r\n    this.serviceModule.getModuleById(moduleId).subscribe({\r\n      next: (module) => {\r\n        console.log('Module Details:', module);\r\n        this.currentModule = module;\r\n      },\r\n      error: (error) => {\r\n        console.error('There was an error!', error);\r\n      }\r\n    });\r\n  }\r\n\r\n  selectModuleForEdit(moduleId: string): void {\r\n    this.getModuleById(moduleId);\r\n    this.openModal(this.currentModule, 'edit');\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}